\c airline_management;

-- Установка кодировки клиента
SET client_encoding = 'UTF8';

-- Очистка существующих данных
TRUNCATE TABLE tickets, flights, planes RESTART IDENTITY CASCADE;

-- Вставка самолетов
INSERT INTO planes (name, category, seats_count) VALUES
('Boeing 737-800', 'Средний', 189),
('Airbus A320', 'Средний', 180),
('Boeing 777-300', 'Дальний', 368),
('Airbus A380', 'Дальний', 555),
('Embraer E190', 'Региональный', 114),
('Boeing 787-9', 'Дальний', 296),
('Airbus A350-900', 'Дальний', 325),
('Sukhoi Superjet 100', 'Региональный', 98);

-- Вставка рейсов с корректными маршрутами
INSERT INTO flights (flight_number, plane_id, stops, departure_time, free_seats, price) VALUES
('SU1234', 1, '["Москва", "Санкт-Петербург"]', '10:00:00', 150, 8500.00),
('S7456', 2, '["Москва", "Казань", "Уфа"]', '12:30:00', 100, 12000.00),
('AFL789', 3, '["Москва", "Дубай"]', '23:45:00', 280, 35000.00),
('FV012', 4, '["Москва", "Пекин"]', '15:20:00', 400, 45000.00),
('N4345', 5, '["Москва", "Сочи"]', '08:15:00', 80, 6500.00),
('UT567', 6, '["Москва", "Нью-Йорк"]', '17:00:00', 200, 65000.00),
('SU890', 7, '["Москва", "Лондон"]', '14:30:00', 250, 55000.00),
('S7123', 8, '["Москва", "Краснодар"]', '09:00:00', 60, 5500.00),
('AFL456', 1, '["Москва", "Екатеринбург"]', '18:30:00', 120, 15000.00),
('FV789', 2, '["Москва", "Новосибирск"]', '22:00:00', 150, 18000.00),
('SU2345', 3, '["Санкт-Петербург", "Москва"]', '11:00:00', 300, 9000.00),
('S7890', 4, '["Казань", "Москва"]', '16:15:00', 450, 8000.00),
('AFL234', 5, '["Сочи", "Москва"]', '07:30:00', 100, 7000.00),
('FV345', 6, '["Екатеринбург", "Москва"]', '19:45:00', 250, 16000.00),
('UT890', 7, '["Новосибирск", "Москва"]', '13:20:00', 200, 19000.00);

-- Вставка билетов
INSERT INTO tickets (counter_number, flight_number, flight_date, sale_time) VALUES
(1, 'SU1234', '2025-06-15', '2025-05-20 10:30:00'),
(2, 'SU1234', '2025-06-15', '2025-05-20 11:00:00'),
(1, 'S7456', '2025-06-16', '2025-05-20 14:20:00'),
(3, 'AFL789', '2025-06-17', '2025-05-20 09:15:00'),
(2, 'FV012', '2025-06-18', '2025-05-20 16:45:00'),
(1, 'N4345', '2025-06-19', '2025-05-20 12:00:00'),
(3, 'UT567', '2025-06-20', '2025-05-20 13:30:00'),
(2, 'SU890', '2025-06-21', '2025-05-20 15:00:00'),
(1, 'S7123', '2025-06-22', '2025-05-20 10:20:00'),
(2, 'AFL456', '2025-06-23', '2025-05-20 11:40:00');

-- Проверим, что данные вставились корректно
SELECT 'Самолеты:' as table_name, count(*) as count FROM planes
UNION ALL
SELECT 'Рейсы:', count(*) FROM flights
UNION ALL  
SELECT 'Билеты:', count(*) FROM tickets;